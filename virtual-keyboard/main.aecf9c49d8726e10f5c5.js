(()=>{"use strict";const t=document.querySelector("body");let e=document.documentElement.lang;const s=t=>{const e=document.createElement("div");return e.classList.add(`${t}`),e};class c{constructor(t){this.content=t,this.className=t.toLowerCase()}createButton(){const t=document.createElement("button");return t.textContent=this.content,t.classList.add(`${this.className}`),t}}const r={row1:["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],row2:["Tab","Q","W","E","R","T","Y","U","I","O","P","[","]","\\","Del"],row3:["CapsLock","A","S","D","F","G","H","J","K","L",";","'","Enter"],row4:["Shift","Z","X","C","V","B","N","M",",",".","/","⮝","Shift"],row5:["Ctrl","Win","Alt","Space","Alt","⮜","⮟","⮞","Ctrl"]},a={row1:["`","1","2","3","4","5","6","7","8","9","0","-","=","Backspace"],row2:["Tab","Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ","\\","Del"],row3:["CapsLock","Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э","Enter"],row4:["Shift","Я","Ч","С","М","И","Т","Ь","Б","Ю",".","⮝","Shift"],row5:["Ctrl","Win","Alt","Space","Alt","⮜","⮟","⮞","Ctrl"]},l=()=>{const l=s("wrapper");t.append(l);const o=document.createElement("textarea");o.setAttribute("autofocus","autofocus");const i=s("keyboard"),n=s("info"),d=document.createElement("p");d.textContent="Клавиатура создана в операционной системе Windows";const u=document.createElement("p");let m,y;u.textContent="Для переключения языка: Shift + Alt",n.append(d,u),l.append(o,i,n),"en"===e?(m=Object.keys(r),y=r):"ru"===e&&(m=Object.keys(a),y=a),m.forEach((t=>{const e=document.createElement("div");for(let s=0;s<y[t].length;s+=1){const r=new c(y[t][s]).createButton();e.append(r)}i.append(e)}))};let o,i,n,d;window.addEventListener("load",l);const u=[],m=()=>{o=document.querySelectorAll("button"),i=document.querySelectorAll(".shift");const[t,e]=i;t.classList.remove("shift"),t.classList.add("shift-left"),e.classList.remove("shift"),e.classList.add("shift-right"),n=document.querySelectorAll(".alt");const[s,c]=n;s.classList.remove("alt"),s.classList.add("alt-left"),c.classList.remove("alt"),c.classList.add("alt-right"),d=document.querySelectorAll(".ctrl");const[r,a]=d;r.classList.remove("ctrl"),r.classList.add("ctrl-left"),a.classList.remove("ctrl"),a.classList.add("ctrl-right");for(let t=0;t<o.length;t+=1)"shift-left"===o[t].classList?(o[t].setAttribute("keyname","shift-left"),o[t].setAttribute("lowerKeyname","shift-left")):"shift-right"===o[t].classList?(o[t].setAttribute("keyname","shift-right"),o[t].setAttribute("lowerKeyname","shift-right")):"alt-left"===o[t].classList?(o[t].setAttribute("keyname","alt-left"),o[t].setAttribute("lowerKeyname","alt-left")):"alt-right"===o[t].classList?(o[t].setAttribute("keyname","alt-right"),o[t].setAttribute("lowerKeyname","alt-right")):"ctrl-left"===o[t].classList?(o[t].setAttribute("keyname","ctrl-left"),o[t].setAttribute("lowerKeyname","ctrl-left")):"ctrl-right"===o[t].classList?(o[t].setAttribute("keyname","ctrl-right"),o[t].setAttribute("lowerKeyname","ctrl-right")):(o[t].setAttribute("keyname",o[t].innerText),o[t].setAttribute("lowerKeyname",o[t].innerText.toLowerCase()))};window.addEventListener("load",m),window.addEventListener("keydown",(t=>{document.querySelector("textarea").focus();for(let e=0;e<o.length;e+=1)t.key!==o[e].getAttribute("keyname")&&t.key!==o[e].getAttribute("lowerKeyname")||"Shift"===t.key||"Alt"===t.key||"Control"===t.key||"Backspace"===t.key||"Enter"===t.key||"CapsLock"===t.key||"Tab"===t.key||(o[e].classList.add("active"),u.push(o[e].getAttribute("lowerKeyname"))),"space"===o[e].getAttribute("lowerKeyname")&&"Space"===t.code&&o[e].classList.add("active"),"enter"===o[e].getAttribute("lowerKeyname")&&"Enter"===t.code&&o[e].classList.add("active"),"backspace"===o[e].getAttribute("lowerKeyname")&&"Backspace"===t.code&&o[e].classList.add("active"),"capslock"===o[e].getAttribute("lowerKeyname")&&"CapsLock"===t.code&&o[e].classList.add("active"),"tab"===o[e].getAttribute("lowerKeyname")&&"Tab"===t.code&&o[e].classList.add("active"),"⮜"===o[e].getAttribute("lowerKeyname")&&"ArrowLeft"===t.code&&o[e].classList.add("active"),"⮞"===o[e].getAttribute("lowerKeyname")&&"ArrowRight"===t.code&&o[e].classList.add("active"),"⮝"===o[e].getAttribute("lowerKeyname")&&"ArrowUp"===t.code&&o[e].classList.add("active"),"⮟"===o[e].getAttribute("lowerKeyname")&&"ArrowDown"===t.code&&o[e].classList.add("active"),"ShiftLeft"===t.code&&(document.querySelector(".shift-left").classList.add("active"),document.querySelector(".shift-right").classList.remove("active")),"ShiftRight"===t.code&&(document.querySelector(".shift-right").classList.add("active"),document.querySelector(".shift-left").classList.remove("active")),"AltLeft"===t.code&&(document.querySelector(".alt-left").classList.add("active"),document.querySelector(".alt-right").classList.remove("active")),"AltRight"===t.code&&(document.querySelector(".alt-right").classList.add("active"),document.querySelector(".alt-left").classList.remove("active")),"ControlLeft"===t.code&&(document.querySelector(".ctrl-left").classList.add("active"),document.querySelector(".ctrl-right").classList.remove("active")),"ControlRight"===t.code&&(document.querySelector(".ctrl-right").classList.add("active"),document.querySelector(".ctrl-left").classList.remove("active")),"MetaLeft"===t.code&&document.querySelector(".win").classList.add("active");"Backspace"===t.key&&u.splice(u.length-1,1),"ShiftLeft"===t.key&&"AltLeft"===t.key&&("en"===e?(e="ru",l(e="ru"),m()):"ru"===e&&(e="en",l(e="en"),m())),document.querySelector("textarea").innerHTML=u.join("")})),window.addEventListener("keyup",(()=>{for(let t=0;t<o.length;t+=1)setTimeout((()=>{o[t].classList.remove("active")}),300)}))})();